export type Language = "fr" | "en";

const baseTranslations = {
  fr: {
    "navigation.dashboard": "Tableau de bord",
    "navigation.accounts": "Comptes",
    "navigation.savings": "Épargne",
    "navigation.investments": "Investissements",
    "navigation.activity": "Actualités",
    "navigation.messages": "Messagerie",
    "navigation.logout": "Déconnexion",

    "auth.loginTitle": "Connexion",
    "auth.registerTitle": "Inscription",
    "auth.email.label": "Adresse e-mail",
    "auth.email.placeholder": "votre.email@exemple.com",
    "auth.password.label": "Mot de passe",
    "auth.password.placeholder": "Mot de passe sécurisé",
    "auth.confirmPassword.label": "Confirmez le mot de passe",
    "auth.firstName.label": "Prénom",
    "auth.firstName.placeholder": "Jean",
    "auth.lastName.label": "Nom",
    "auth.lastName.placeholder": "Dupont",
    "auth.login.cta": "Se connecter",
    "auth.register.cta": "Créer mon compte",
    "auth.switchToRegister": "Pas encore de compte ?",
    "auth.switchToLogin": "Déjà client ? Connexion",

    "dashboard.greeting": "Bonjour {name}",
    "dashboard.overviewTitle": "Votre situation globale",
    "dashboard.totalBalance": "Encours total",
    "dashboard.accountsSection": "Comptes actifs",
    "dashboard.quickActions": "Actions rapides",
    "dashboard.action.createAccount": "Ouvrir un compte courant",
    "dashboard.action.openSavings": "Ouvrir un compte épargne",
    "dashboard.action.startTransfer": "Effectuer un virement",
    "dashboard.action.placeOrder": "Passer un ordre",
    "dashboard.activityFeed": "Dernières actualités",
    "dashboard.emptyActivity": "Aucune actualité pour le moment.",

    "accounts.title": "Vos comptes",
    "accounts.subtitle": "Créez, renommez ou supprimez vos comptes en quelques clics.",
    "accounts.createTitle": "Créer un compte",
    "accounts.name.label": "Nom du compte",
    "accounts.name.placeholder": "Compte personnel",
    "accounts.type.label": "Type de compte",
    "accounts.type.checking": "Compte courant",
    "accounts.type.savings": "Compte épargne",
    "accounts.initialDeposit.label": "Versement initial (€)",
    "accounts.submit": "Créer le compte",
    "accounts.listTitle": "Comptes disponibles",
    "accounts.rename": "Renommer",
    "accounts.delete": "Supprimer",
    "accounts.iban": "IBAN",
    "accounts.balance": "Solde",
    "accounts.rename.placeholder": "Nouveau nom",
    "accounts.confirmDelete": "Confirmer la suppression ?",
    "accounts.transferTitle": "Virements internes",
    "accounts.transfer.from": "Depuis le compte",
    "accounts.transfer.to": "Vers le compte",
    "accounts.transfer.amount": "Montant (€)",
    "accounts.transfer.reference": "Libellé",
    "accounts.transfer.submit": "Envoyer le virement",
  "accounts.transfer.error.sameAccount": "Sélectionnez deux comptes différents.",

    "savings.title": "Compte épargne",
    "savings.subtitle": "Optimisez votre épargne avec un taux rémunérateur quotidien.",
    "savings.openTitle": "Ouvrir un compte épargne",
    "savings.amount.label": "Montant à placer (€)",
    "savings.amount.placeholder": "Ex : 500",
    "savings.submit": "Ouvrir le compte",
    "savings.currentRate": "Taux en vigueur",
    "savings.balance": "Encours épargne",
    "savings.projection": "Projection sur 30 jours",
  "savings.ratePerDay": "{value}% par jour",
    "savings.depositTitle": "Effectuer un versement",
    "savings.withdrawTitle": "Effectuer un retrait",
    "savings.deposit": "Verser",
    "savings.withdraw": "Retirer",
    "savings.noAccount": "Vous n’avez pas encore de compte épargne.",

    "investments.title": "Investissements",
    "investments.subtitle": "Passez des ordres d’achat ou de vente en toute transparence.",
    "investments.available": "Actions disponibles",
    "investments.orders": "Vos ordres",
    "investments.placeOrder": "Passer un ordre",
    "investments.orderPlaced": "Ordre enregistré.",
    "investments.side": "Type d’ordre",
    "investments.side.buy": "Achat",
    "investments.side.sell": "Vente",
    "investments.stock": "Action",
    "investments.quantity": "Quantité",
    "investments.limit": "Prix limite (€)",
    "investments.status": "Statut",
    "investments.status.pending": "En attente",
    "investments.status.executed": "Exécuté",
    "investments.status.cancelled": "Annulé",
    "investments.submit": "Valider l’ordre",
    "investments.feeNotice": "Frais fixes : 1 € par ordre.",
  "investments.fees": "Frais",
    "investments.noOrders": "Aucun ordre pour le moment.",

    "activity.title": "Actualités de la banque",
    "activity.subtitle": "Suivez les nouvelles initiatives et les mises à jour produits en temps réel.",
    "activity.readMore": "En savoir plus",

    "messages.title": "Messagerie instantanée",
    "messages.subtitle": "Discutez en temps réel avec votre conseiller dédié.",
    "messages.status.writing": "{author} est en train d’écrire…",
    "messages.placeholder": "Votre message",
    "messages.send": "Envoyer",

    "form.error.required": "Ce champ est obligatoire.",
    "form.error.email": "Adresse e-mail invalide.",
    "form.error.passwordMismatch": "Les mots de passe ne correspondent pas.",
    "form.success.generic": "Action réalisée avec succès.",

    "status.active": "Actif",
    "status.closed": "Fermé",

    "feedback.accountCreated": "Compte créé avec succès.",
    "feedback.transferCompleted": "Virement réalisé.",
    "feedback.orderPlaced": "Ordre enregistré.",

    "language.toggle": "Langue",
  "clientPortal.title": "Espace client",
  "clientPortal.tagline": "Suivez vos finances responsables",
  "clientPortal.subtitle": "Pilotage instantané, sécurité premium",
  "home.heroTitle": "Pilotez votre patrimoine en toute confiance",
  "home.heroSubtitle": "Une plateforme responsable pour suivre vos comptes, votre épargne et vos investissements au quotidien.",
  "home.brandHeadline": "La banque, en mieux",
  "home.ctaClient": "Espace client",
  "home.ctaDiscover": "Découvrir la plateforme",
  "home.tagline": "Neo banking • Premium",
  "home.featuresTitle": "Pourquoi choisir Avenir Bank",
  "home.featuresCta": "Voir le détail des offres",
  "home.sections.features": "Services avancés",
  "home.metric.volumeLabel": "Volume géré",
  "home.metric.vsLastMonth": "vs mois dernier",
  "home.metric.npsLabel": "Satisfaction clients",
  "home.quick.transfer": "Virement",
  "home.quick.cards": "Cartes",
  "home.quick.savings": "Épargne",
  "home.quick.topup": "Recharger",
  "home.feature.accounts": "Comptes personnalisables",
  "home.feature.accountsDetail": "IBAN unique à chaque ouverture, sous-comptes multidevises.",
  "home.feature.fx": "Taux de change",
  "home.feature.fxDetail": "Interbancaire en temps réel avec marge réduite.",
  "home.feature.investments": "Investissements",
  "home.feature.investmentsDetail": "Actions, matières premières et obligations en un tap.",
  "home.feature.security": "Sécurité proactive",
  "home.feature.securityDetail": "Cartes virtuelles illimitées, notifications instantanées.",
  "home.feature.realtime": "Messagerie et notifications en temps réel pour rester accompagné.",
  "home.detail.accounts": "IBAN unique généré à chaque ouverture de compte.",
  "home.detail.rate": "Taux d’épargne quotidien ajustable en temps réel.",
  "home.detail.orderbook": "Carnet d’ordres transparent pour vos investissements.",
  "home.detail.realtime": "Notifications SSE et messagerie WebSocket pour rester informé.",
  "home.preview.cards": "Vos cartes",
  "home.preview.manage": "Gérer",
  "home.preview.activity": "Activités récentes",
  "home.preview.seeAll": "Tout voir",
  "home.preview.premium": "Premium Metal",
  "home.preview.premiumTitle": "1 mois offert, puis 13,99 €",
  "home.preview.premiumSubtitle": "Cartes métal, assurance voyage et frais FX réduits.",
  "home.preview.ctaPrimary": "Activer Metal",
  "home.preview.ctaSecondary": "Comparer les plans",
  "home.preview.fx": "Taux FX",
  "home.preview.fxValue": "Au taux du marché",
  "actions.cancel": "Annuler",

    "errors.404.title": "Page introuvable",
    "errors.404.message": "La page que vous cherchez n’existe pas ou a été déplacée.",
    "errors.500.title": "Une erreur est survenue",
    "errors.500.message": "Notre équipe est déjà sur le coup. Merci de réessayer plus tard.",
    "errors.action.retry": "Réessayer",
    "errors.action.backHome": "Retour à l’accueil",
  },
  en: {
    "navigation.dashboard": "Dashboard",
    "navigation.accounts": "Accounts",
    "navigation.savings": "Savings",
    "navigation.investments": "Investments",
    "navigation.activity": "News",
    "navigation.messages": "Messaging",
    "navigation.logout": "Log out",

    "auth.loginTitle": "Sign in",
    "auth.registerTitle": "Sign up",
    "auth.email.label": "Email address",
    "auth.email.placeholder": "your.email@example.com",
    "auth.password.label": "Password",
    "auth.password.placeholder": "Secure password",
    "auth.confirmPassword.label": "Confirm password",
    "auth.firstName.label": "First name",
    "auth.firstName.placeholder": "John",
    "auth.lastName.label": "Last name",
    "auth.lastName.placeholder": "Doe",
    "auth.login.cta": "Sign in",
    "auth.register.cta": "Create my account",
    "auth.switchToRegister": "New here?",
    "auth.switchToLogin": "Already a client? Sign in",

    "dashboard.greeting": "Hello {name}",
    "dashboard.overviewTitle": "Your overall situation",
    "dashboard.totalBalance": "Total balance",
    "dashboard.accountsSection": "Active accounts",
    "dashboard.quickActions": "Quick actions",
    "dashboard.action.createAccount": "Open a current account",
    "dashboard.action.openSavings": "Open a savings account",
    "dashboard.action.startTransfer": "Make a transfer",
    "dashboard.action.placeOrder": "Place an order",
    "dashboard.activityFeed": "Latest updates",
    "dashboard.emptyActivity": "No news available yet.",

    "accounts.title": "Your accounts",
    "accounts.subtitle": "Create, rename or close accounts in a few clicks.",
    "accounts.createTitle": "Create an account",
    "accounts.name.label": "Account name",
    "accounts.name.placeholder": "Personal account",
    "accounts.type.label": "Account type",
    "accounts.type.checking": "Current account",
    "accounts.type.savings": "Savings account",
    "accounts.initialDeposit.label": "Initial deposit (€)",
    "accounts.submit": "Create account",
    "accounts.listTitle": "Available accounts",
    "accounts.rename": "Rename",
    "accounts.delete": "Delete",
    "accounts.iban": "IBAN",
    "accounts.balance": "Balance",
    "accounts.rename.placeholder": "New name",
    "accounts.confirmDelete": "Confirm deletion?",
    "accounts.transferTitle": "Internal transfers",
    "accounts.transfer.from": "From account",
    "accounts.transfer.to": "To account",
    "accounts.transfer.amount": "Amount (€)",
    "accounts.transfer.reference": "Reference",
    "accounts.transfer.submit": "Send transfer",
  "accounts.transfer.error.sameAccount": "Select two different accounts.",

    "savings.title": "Savings account",
    "savings.subtitle": "Grow your savings with our daily interest rate.",
    "savings.openTitle": "Open a savings account",
    "savings.amount.label": "Amount to invest (€)",
    "savings.amount.placeholder": "Eg: 500",
    "savings.submit": "Open the account",
    "savings.currentRate": "Current rate",
    "savings.balance": "Savings balance",
    "savings.projection": "30-day projection",
  "savings.ratePerDay": "{value}% per day",
    "savings.depositTitle": "Make a deposit",
    "savings.withdrawTitle": "Make a withdrawal",
    "savings.deposit": "Deposit",
    "savings.withdraw": "Withdraw",
    "savings.noAccount": "You do not have a savings account yet.",

    "investments.title": "Investments",
    "investments.subtitle": "Place buy or sell orders with full transparency.",
    "investments.available": "Available stocks",
    "investments.orders": "Your orders",
    "investments.placeOrder": "Place an order",
    "investments.orderPlaced": "Order placed.",
    "investments.side": "Order type",
    "investments.side.buy": "Buy",
    "investments.side.sell": "Sell",
    "investments.stock": "Stock",
    "investments.quantity": "Quantity",
    "investments.limit": "Limit price (€)",
    "investments.status": "Status",
    "investments.status.pending": "Pending",
    "investments.status.executed": "Executed",
    "investments.status.cancelled": "Cancelled",
    "investments.submit": "Confirm order",
    "investments.feeNotice": "Flat fee: €1 per order.",
  "investments.fees": "Fees",
    "investments.noOrders": "No orders yet.",

    "activity.title": "Bank news",
    "activity.subtitle": "Follow initiatives and product updates in real time.",
    "activity.readMore": "Read more",

    "messages.title": "Instant messaging",
    "messages.subtitle": "Chat in real time with your dedicated advisor.",
    "messages.status.writing": "{author} is typing…",
    "messages.placeholder": "Your message",
    "messages.send": "Send",

    "form.error.required": "This field is required.",
    "form.error.email": "Invalid email address.",
    "form.error.passwordMismatch": "Passwords do not match.",
    "form.success.generic": "Action completed successfully.",

    "status.active": "Active",
    "status.closed": "Closed",

    "feedback.accountCreated": "Account created successfully.",
    "feedback.transferCompleted": "Transfer completed.",
    "feedback.orderPlaced": "Order recorded.",

    "language.toggle": "Language",
  "clientPortal.title": "Client portal",
  "clientPortal.tagline": "Manage your responsible finances",
  "clientPortal.subtitle": "Instant control, premium safety",
  "home.heroTitle": "Manage your wealth with confidence",
  "home.heroSubtitle": "A responsible platform to monitor your accounts, savings and investments every day.",
  "home.brandHeadline": "Banking, refined",
  "home.ctaClient": "Client area",
  "home.ctaDiscover": "Explore the platform",
  "home.tagline": "Neo banking • Premium",
  "home.featuresTitle": "Why choose Avenir Bank",
  "home.featuresCta": "See all benefits",
  "home.sections.features": "Advanced services",
  "home.metric.volumeLabel": "Managed volume",
  "home.metric.vsLastMonth": "vs last month",
  "home.metric.npsLabel": "Customer satisfaction",
  "home.quick.transfer": "Transfer",
  "home.quick.cards": "Cards",
  "home.quick.savings": "Savings",
  "home.quick.topup": "Top up",
  "home.feature.accounts": "Customisable accounts",
  "home.feature.accountsDetail": "Unique IBAN every time plus multi-currency sub-accounts.",
  "home.feature.fx": "FX rates",
  "home.feature.fxDetail": "Real-time interbank price with low spread.",
  "home.feature.investments": "Investments",
  "home.feature.investmentsDetail": "Stocks, commodities and bonds in one tap.",
  "home.feature.security": "Proactive security",
  "home.feature.securityDetail": "Unlimited virtual cards and instant notifications.",
  "home.feature.realtime": "Real-time messaging and notifications so you’re never alone.",
  "home.detail.accounts": "Unique IBAN generated for every new account.",
  "home.detail.rate": "Daily savings rate adjustable in real time.",
  "home.detail.orderbook": "Transparent order book for your investments.",
  "home.detail.realtime": "SSE notifications and WebSocket messaging keep you informed.",
  "home.preview.cards": "Your cards",
  "home.preview.manage": "Manage",
  "home.preview.activity": "Recent activity",
  "home.preview.seeAll": "See all",
  "home.preview.premium": "Metal premium",
  "home.preview.premiumTitle": "1 free month, then €13.99",
  "home.preview.premiumSubtitle": "Metal cards, travel insurance and thin FX fees.",
  "home.preview.ctaPrimary": "Enable Metal",
  "home.preview.ctaSecondary": "Compare plans",
  "home.preview.fx": "FX rate",
  "home.preview.fxValue": "At market rate",
  "actions.cancel": "Cancel",

    "errors.404.title": "Page not found",
    "errors.404.message": "The page you are looking for does not exist or has moved.",
    "errors.500.title": "An error occurred",
    "errors.500.message": "Our team is already on it. Please try again later.",
    "errors.action.retry": "Retry",
    "errors.action.backHome": "Back to home",
  },
};

export type TranslationKey = keyof (typeof baseTranslations)["fr"];

type TranslationRecord = Record<Language, Record<TranslationKey, string>>;

export const translations: TranslationRecord = baseTranslations;

export const defaultLanguage: Language = "fr";

type TranslationParams = Record<string, string | number>;

export function translate(language: Language, key: TranslationKey, params?: TranslationParams): string {
  const template = translations[language]?.[key] ?? key;
  if (!params) {
    return template;
  }
  return template.replace(/\{(\w+)\}/g, (_, token: string) => {
    const value = params[token];
    return value !== undefined ? String(value) : `{${token}}`;
  });
}

export function isLanguage(value: string | undefined | null): value is Language {
  return value === 'fr' || value === 'en';
}
